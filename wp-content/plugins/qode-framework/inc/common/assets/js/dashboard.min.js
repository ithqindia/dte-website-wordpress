!function(c){"use strict";"object"!=typeof qodef&&(window.qodef={}),c(document).ready(function(){e.init(),f.init(),l.init()});var e={init:function(){this.holder=c(".qodef-tab-wrapper"),this.holder.length&&this.holder.each(function(){e.initTabs(c(this))})},initTabs:function(e){e.children(".qodef-tab-item-content").each(function(e){e+=1;var t=c(this),i=t.attr("id"),n=t.parent().find(".qodef-tab-item-nav-wrapper li:nth-child("+e+") a"),o=n.attr("href");-1<(i="#"+i).indexOf(o)&&n.attr("href",i)}),e.addClass("qodef--init").tabs({activate:function(){"object"==typeof qodef.qodefAddressFields&&qodef.qodefAddressFields.init(!0)}})}},f={init:function(){f.initOptions(),f.initMenu(),f.initWidget()},initOptions:function(){var e=c(".qodef-field-content .qodef-field[data-option-name]");e.length&&f.initFields(e)},initMenu:function(){var e=c("#update-nav-menu .qodef-menu-item-field[data-option-name]");e.length&&f.initFields(e)},initWidget:function(){var e=c(".widget-content .qodef-widget-field[data-option-name]");e.length&&e.each(function(){var e=c(this);e.parents("#widget-list").length<=0&&f.initField(e)})},reinitRepeater:function(){var e=c(".qodef-repeater-fields-holder .qodef-field-content .qodef-field[data-option-name]");e.length&&e.each(function(){var e=c(this);switch(e.data("option-type")){case"checkbox":f.qodefCheckBoxDependencyRepeater(e);break;case"selectbox":f.qodefSelectBoxDependencyRepeater(e);break;case"radiogroup":f.qodefRadioGroupDependencyRepeater(e)}f.initField(e)})},reinitWidget:function(e){f.initFields(e)},initFields:function(e){e.each(function(){var e=c(this);e.parents(".qodef-repeater-template").length<=0&&f.initField(e)})},initField:function(e){var t=e.data("option-type");if(!e.hasClass("qodef-dependency-option"))switch(e.addClass("qodef-dependency-option"),t){case"checkbox":f.qodefCheckBoxDependency(e);break;case"selectbox":f.qodefSelectBoxDependency(e);break;case"radiogroup":case"yesno":f.qodefRadioGroupDependency(e)}},qodefCheckBoxDependency:function(t){t.find(".cb-enable, .cb-disable").on("click",function(){var e=c(this).data("value");f.qodefDependencyActionInit(t,e)})},qodefCheckBoxDependencyRepeater:function(e){var t=e.find(".selected").data("value");void 0!==t&&f.qodefDependencyActionInit(e,t)},qodefSelectBoxDependency:function(t){t.on("change",function(){var e=c(this).val();f.qodefDependencyActionInit(t,e)})},qodefSelectBoxDependencyRepeater:function(e){var t=e.val();f.qodefDependencyActionInit(e,t)},qodefRadioGroupDependency:function(t){var e=t.data("option-name");t.find("input[name="+e+"]").on("change",function(){var e=this.value;f.qodefDependencyActionInit(t,e)})},qodefRadioGroupDependencyRepeater:function(e){var t=e.data("option-name"),i=e.find("input[name="+t+"]").value;f.qodefDependencyActionInit(e,i)},qodefDependencyActionInit:function(e,n){var t=c(".qodef-dependency-holder"),o=e.data("option-name");t.length&&void 0!==o&&""!==o&&void 0!==n&&t.each(function(){var e=c(this),t=e.data("show"),i=e.data("hide");""!==t&&void 0!==t&&(1<f.qodefGetNumberOfItems(t)?f.qodefMultipleDependencyLogic(t,e,o,n,!0):f.qodefSingleDependencyLogic(t,e,o,n,!0)),""!==i&&void 0!==i&&(1<f.qodefGetNumberOfItems(i)?f.qodefMultipleDependencyLogic(i,e,o,n,!1):f.qodefSingleDependencyLogic(i,e,o,n,!1))})},qodefGetNumberOfItems:function(e){var t=0;for(var i in e)e.hasOwnProperty(i)&&++t;return t},qodefMultipleDependencyLogic:function(e,t,o,a,i){var d=[],n=!0;for(var r in c.each(e,function(e,t){if(t=t.split(","),o===e)-1!==t.indexOf(a)?d.push(!0):d.push(!1);else{var i=c('.qodef-dependency-option[data-option-name="'+e+'"]'),n="";switch(i.data("option-type")){case"checkbox":n=i.find('input[type="hidden"][name="'+e+'"]').val();break;case"selectbox":n=i.val();break;case"radiogroup":n=i.find('input[name="'+e+'"]').val()}n.length&&-1!==t.indexOf(n)?d.push(!0):d.push(!1)}}),d)d[r]||(n=!1);i?n?t.fadeIn(200):t.fadeOut(200):n?t.fadeOut(200):t.fadeIn(200)},qodefSingleDependencyLogic:function(e,i,n,o,a){c.each(e,function(e,t){n===e&&(t=t.split(","),a?-1!==t.indexOf(o)?(i.removeClass("qodef-hide-dependency-holder"),i.addClass("qodef-show-dependency-holder")):(i.addClass("qodef-hide-dependency-holder"),i.removeClass("qodef-show-dependency-holder")):-1!==t.indexOf(o)?(i.addClass("qodef-hide-dependency-holder"),i.removeClass("qodef-show-dependency-holder")):(i.removeClass("qodef-hide-dependency-holder"),i.addClass("qodef-show-dependency-holder")))})}};qodef.qodefDependency=f;var l={init:function(){l.initRepeater(),l.initRepeaterInner()},initRepeater:function(){var e=c(".qodef-repeater-wrapper");e.length&&e.each(function(){var e=c(this);l.qodefAddNewRow(e),l.qodefRemoveRow(e),l.qodefInitSortable(e)})},initRepeaterInner:function(){var e=c(".qodef-repeater-inner-wrapper");e.length&&e.each(function(){var e=c(this);l.qodefAddNewRowInner(e),l.qodefRemoveRowInner(e),l.qodefInitSortableInner(e)})},qodefGetNumberOfRows:function(e){return e.find(".qodef-repeater-fields-holder").length},qodefInitSortable:function(e){e.find(".qodef-repeater-wrapper-main.sortable").length&&c(".qodef-repeater-wrapper-main.sortable").sortable({placeholder:"qodef-placeholder",forcePlaceholderSize:!0}),l.qodefInitSortableInner(e)},qodefInitSortableInner:function(e){e.find(".qodef-repeater-inner-wrapper-main.sortable").length&&c(".qodef-repeater-inner-wrapper-main.sortable").sortable({placeholder:"qodef-placeholder",forcePlaceholderSize:!0})},qodefAddNewRow:function(n){var e=n.find(".qodef-repeater-add a"),t=n.find(".qodef-repeater-wrapper-main").data("template"),o=n.find(".qodef-repeater-wrapper-main"),a=wp.template("qodef-repeater-template-"+t);e.on("click",function(e){e.preventDefault(),e.stopPropagation();var t=c(a({rowIndex:l.qodefGetNumberOfRows(n)||0}));o.append(t);var i=t.find(".qodef-repeater-inner-wrapper");l.qodefAddNewRowInner(i),l.qodefRemoveRowInner(i),l.qodefInitSortable(n),f.reinitRepeater(),c(document).trigger("qodef_add_new_row_trigger",t.find(".qodef-repeater-fields"))})},qodefRemoveRow:function(e){e.find(".qodef-repeater-wrapper-main").on("click",".qodef-clone-remove",function(e){e.preventDefault(),e.stopPropagation(),window.confirm("Are you sure you want to remove this section?")&&c(this).parents(".qodef-repeater-fields-holder").remove()})},qodefAddNewRowInner:function(r){var e=r.find(".qodef-repeater-inner-add a"),t=r.find(".qodef-repeater-inner-wrapper-main").data("template"),s=wp.template("qodef-repeater-inner-template-"+t);e.on("click",function(e){e.preventDefault(),e.stopPropagation();var t=c(this),i=t.parents(".qodef-repeater-fields-holder").first(),n=i.data("index"),o=t.parent().parent().prev(),a=i.find(".qodef-repeater-inner-fields-holder").length,d=c(s({rowIndex:n,rowInnerIndex:a}));o.append(d),l.qodefInitSortableInner(r),f.reinitRepeater()})},qodefRemoveRowInner:function(e){e.find(".qodef-repeater-inner-wrapper-main").on("click",".qodef-clone-inner-remove",function(e){e.preventDefault(),e.stopPropagation(),confirm("Are you sure you want to remove section?")&&c(this).parents(".qodef-repeater-inner-fields-holder").remove()})}}}(jQuery),function(f){"use strict";"object"!=typeof qodef&&(window.qodef={}),qodef.scroll=0,qodef.windowWidth=f(window).width(),f(document).ready(function(){t.init(),n.init(),i.init(),o.init(),a.init(),d.init(),r.init(),c.init(),s.init(),e.init()}),f(window).on("load",function(){r.init(!0),t.adminHeaderPosition()}),f(window).scroll(function(){qodef.scroll=f(window).scrollTop()}),f(window).resize(function(){qodef.windowWidth=f(window).width(),void 0!==t.adminPage&&t.adminPage.length&&t.adminHeader.width(t.adminPage.width())});var e={init:function(){f(document).on("qodef_add_new_row_trigger",function(e,t){c.fieldHolder.push(t),n.reinit(t),i.reinit(t),o.reinit(t),a.reinit(t),d.reinit(t)})}},t={init:function(){this.adminPage=f(".qodef-admin-page"),this.adminPage.length&&(this.navigationInit(),this.saveOptionsInit(this.adminPage),this.setActivePanel())},navigationInit:function(){this.adminPage.find(".qodef-tabs-navigation-wrapper ul li").on("click",function(){c.resetSearchView(),c.resetSearchField(),t.initNavItemClick(f(this))})},initNavItemClick:function(e){var t=e.find(".nav-link").data("section"),i=this.adminPage.find(".qodef-tabs-content");i.find(".tab-content:visible").addClass("qodef-hide-pane"),i.find(".tab-content[data-section="+t+"]").removeClass("qodef-hide-pane"),e.siblings(".qodef-active").removeClass("qodef-active"),e.addClass("qodef-active"),this.setCookie("qodefActiveTab",t)},setActivePanel:function(){var e=this.getCookie("qodefActiveTab");""!==e?this.initNavItemClick(f(".qodef-tabs-navigation-wrapper .nav-link[data-section="+e+"]").parent()):this.initNavItemClick(f(".qodef-tabs-navigation-wrapper ul li:first-child"))},saveOptionsInit:function(n){this.optionsForm=this.adminPage.find("#qode_framework_ajax_form");var o,a=f(".qodef-save-reset-loading"),d=f(".qodef-save-success");this.optionsForm.length&&(f(".qodef-save-reset-button").on("click",function(){o=f(this).attr("name")}),this.optionsForm.on("submit",function(e){e.preventDefault(),e.stopPropagation(),a.addClass("qodef-show-loader"),n.addClass("qodef-save-reset-disable");var t=f(this),i={action:("qodef_save"===o?"qode_framework_action_save_options_":"qode_framework_action_reset_options_")+t.data("options-name"),options_name:t.data("options-name")};f.ajax({type:"POST",url:ajaxurl,cache:!1,data:f.param(i,!0)+"&"+t.serialize(),success:function(){switch(a.removeClass("qodef-show-loader"),o){case"qodef_reset":window.location.reload(!0);break;case"qodef_save":n.removeClass("qodef-save-reset-disable"),d.fadeIn(300),setTimeout(function(){d.fadeOut(200)},2e3)}}})}))},setCookie:function(e,t){document.cookie=e+"="+t},getCookie:function(e){for(var t=e+"=",i=decodeURIComponent(document.cookie).split(";"),n=0;n<i.length;n++){for(var o=i[n];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return""},adminHeaderPosition:function(){this.adminPage.length&&(this.adminBarHeight=f("#wpadminbar").height(),this.adminHeader=f(".qodef-admin-header"),this.adminHeaderHeight=this.adminHeader.outerHeight(!0),this.adminHeaderTopPosition=this.adminHeader.offset().top-parseInt(this.adminBarHeight),this.adminContent=f(".qodef-admin-content"),this.adminHeader.width(this.adminPage.width()),f(window).on("scroll load",function(){qodef.scroll>=t.adminHeaderTopPosition?(t.adminHeader.addClass("qodef-fixed").css("top",parseInt(t.adminBarHeight)),t.adminContent.css("marginTop",t.adminHeaderHeight)):(t.adminHeader.removeClass("qodef-fixed").css("top",0),t.adminContent.css("marginTop",0))}))},adminHeaderPositionLogic:function(){768<qodef.windowWidth&&(qodef.scroll>t.adminHeaderTopPosition?(t.adminHeader.addClass("qodef-fixed"),t.adminContent.css("padding-top",t.adminHeaderHeight)):(t.adminHeader.removeClass("qodef-fixed"),t.adminContent.css("padding-top",0)))}},n={init:function(){this.$holder=f(".qodef-image-uploader"),this.$holder.length&&this.$holder.each(function(){n.initField(f(this))})},reinit:function(e){var t=f(e).find(".qodef-image-uploader");t.length&&t.each(function(){n.initField(f(this))})},initField:function(e){var i={$multiple:"yes"===e.data("multiple")&&"no"===e.data("file"),$file:"yes"===e.data("file"),$allowed_type:"yes"===e.data("file")?e.data("allowed-type"):"image",$imageHolder:e,mediaFrame:"",attachment:"",$thumbImageHolder:e.find(".qodef-image-thumb"),$uploadId:e.find(".qodef-image-upload-id"),$removeButton:e.find(".qodef-image-remove-btn")};i.$thumbImageHolder.find("img").length&&(i.$removeButton.show(),n.remove(i.$removeButton)),i.$imageHolder.on("click",".qodef-image-upload-btn",function(){i.mediaFrame||(i.mediaFrame=wp.media.frames.fileFrame=wp.media({title:f(this).data("frame-title"),button:{text:f(this).data("frame-button-text")},library:{type:i.$allowed_type},multiple:i.$multiple}),i.$file?n.fileSelect(i):i.$multiple?n.multipleSelect(i):n.singleSelect(i),i.mediaFrame.on("open",function(){var t=i.mediaFrame.state().get("selection");i.$uploadId.val().split(",").forEach(function(e){i.attachment=wp.media.attachment(e),i.attachment.fetch(),t.add(i.attachment?[i.attachment]:[])})})),i.mediaFrame.open()})},multipleSelect:function(i){i.mediaFrame.on("select",function(){i.attachment=i.mediaFrame.state().get("selection").map(function(e){return e.toJSON(),e}),i.$removeButton.show().trigger("change"),n.remove(i.$removeButton);var e=f.map(i.attachment,function(e){if("image"===e.attributes.type)return e.id});i.$uploadId.val(e),i.$thumbImageHolder.find("ul").empty().trigger("change");for(var t=0;t<i.attachment.length;++t)void 0!==i.attachment[t].attributes.sizes.thumbnail?i.$thumbImageHolder.find("ul").append('<li><img src="'+i.attachment[t].attributes.sizes.thumbnail.url+'" alt="thumbnail" /></li>'):i.$thumbImageHolder.find("ul").append('<li><img src="'+i.attachment[t].attributes.sizes.full.url+'" alt="thumbnail" /></li>');i.$thumbImageHolder.show().trigger("change")})},singleSelect:function(e){e.mediaFrame.on("select",function(){e.attachment=e.mediaFrame.state().get("selection").first().toJSON(),e.attachment.hasOwnProperty("url")&&"image"===e.attachment.type&&(e.$removeButton.show(),n.remove(e.$removeButton),e.$uploadId.val(e.attachment.id),e.$thumbImageHolder.empty(),e.attachment.hasOwnProperty("sizes")&&e.attachment.sizes.thumbnail?e.$thumbImageHolder.append('<img class="qodef-single-image" src="'+e.attachment.sizes.thumbnail.url+'" alt="thumbnail" />'):e.$thumbImageHolder.append('<img class="qodef-single-image" src="'+e.attachment.url+'" alt="thumbnail" />'),e.$thumbImageHolder.show().trigger("change"))})},fileSelect:function(e){e.mediaFrame.on("select",function(){e.attachment=e.mediaFrame.state().get("selection").first().toJSON(),e.attachment.hasOwnProperty("url")&&e.$allowed_type.includes(e.attachment.type)&&(e.$removeButton.show(),n.remove(e.$removeButton),e.$uploadId.val(e.attachment.id),e.$thumbImageHolder.empty(),e.$thumbImageHolder.append('<img class="qodef-file-image" src="'+e.attachment.icon+'" alt="thumbnail" /><div class="qodef-file-name">'+e.attachment.filename+"</div>"),e.$thumbImageHolder.show().trigger("change"))})},remove:function(e){e.on("click",function(){e.siblings(".qodef-image-thumb").hide(),e.siblings(".qodef-image-thumb").find("img").attr("src",""),e.siblings(".qodef-image-thumb").find("li").remove(),e.siblings(".qodef-image-meta-fields").find('input[type="hidden"]').each(function(){f(this).val("")}),e.hide().trigger("change")})}},i={init:function(){this.$holder=f('.qodef-color-field:not(".widefat")'),this.$holder.length&&this.$holder.each(function(){i.initField(f(this))})},reinit:function(e){var t=f(e).find('.qodef-color-field:not(".widefat")');t.length&&i.initField(t)},initField:function(e){e.wpColorPicker()}},o={init:function(){this.$holder=f(".qodef-datepicker"),this.$holder.length&&this.$holder.each(function(){o.initField(f(this))})},reinit:function(e){var t=f(e).find(".qodef-datepicker");t.length&&o.initField(t)},initField:function(e){var t=e.data("date-format");e.datepicker({dateFormat:t})}},a={init:function(){this.$holder=f("select.qodef-select2"),this.$holder.length&&this.$holder.each(function(){a.initField(f(this))})},reinit:function(e){var t=f(e).find("select.qodef-select2");t.length&&a.initField(t)},initField:function(e){"function"==typeof e.select2&&e.select2({width:"100%",allowClear:!1,minimumResultsForSearch:11})}},d={init:function(){this.$holder=f(".qodef-iconpicker-select:not(.qodef-select2):not(.qodef--icons-init)"),this.$holder.length&&this.$holder.each(function(){var e=f(this);"function"==typeof e.fontIconPicker&&(e.addClass("qodef--icons-init"),e.fontIconPicker())})},reinit:function(e,t){var i=void 0!==t&&""!==t&&!1!==t?t:f(e).find(".qodef-iconpicker-select:not(.qodef-select2)");i.length&&!i.hasClass("qodef--icons-init")&&"function"==typeof i.fontIconPicker&&(i.addClass("qodef--icons-init"),i.fontIconPicker())}},r={init:function(e){e?(r.initObserver(),r.gutenbergEditor()):r.classicEditor()},initObserver:function(){var n,e=f(".edit-post-sidebar");e.length&&(n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,f.fn.attrChange=function(t){if(n){var e={attributes:!0,attributeFilter:["class"],subtree:!1},i=new n(function(e){e.forEach(function(e){t.call(e.target)})});return this.each(function(){i.observe(this,e)})}},e.find(".edit-post-sidebar__panel-tabs ul li:first-child button").attrChange(function(){f(this).hasClass("is-active")&&r.gutenbergEditor()}))},classicEditor:function(){var e=f("#post-formats-select"),t=e.find('input[name="post_format"]'),i=e.find('input[name="post_format"]:checked').attr("id");t.each(function(){r.metaBoxVisibility(!1,f(this).attr("id"))}),r.metaBoxVisibility(!0,i),t.change(function(){r.classicEditor()})},gutenbergEditor:function(){var e,t,i=f(".edit-post-sidebar");i.length&&(t=(e=i.find(".editor-post-format")).find("select option:selected"),e.find("select option").each(function(){r.metaBoxVisibility(!1,"post_format_"+f(this).val())}),t.length&&r.metaBoxVisibility(!0,"post_format_"+t.val()),e.find("select").one("change",function(){r.gutenbergEditor()}))},metaBoxVisibility:function(e,t){var i;""!==t&&void 0!==t&&(i=t.replace(/-/g,"_"),e?f(".qodef-section-name-qodef_"+i+"_section").fadeIn():f(".qodef-section-name-qodef_"+i+"_section").hide())}},s={init:function(e){this.$addressHolder=f(".qodef-address-field-holder"),this.$addressHolder.length&&this.$addressHolder.each(function(){s.initMap(f(this),e)})},initMap:function(e,t){var i=e.find(".qodef-reset-marker"),n=e.find("input"),o=e.find(".qodef-map-canvas"),a=e.data("country"),d=e.data("lat"),r=f('.qodef-address-elements [name="'+d+'"]'),s=e.data("lng"),c=f('.qodef-address-elements [name="'+s+'"]');t&&n.trigger("geocode"),"function"==typeof n.geocomplete&&void 0===t&&(n.geocomplete({map:o,details:".qodef-address-elements",detailsAttribute:"data-geo",types:["geocode","establishment"],country:a,markerOptions:{draggable:!0}}).bind("geocode:result",function(){i.show()}),n.on("geocode:dragged",function(e,t){r.val(t.lat()),c.val(t.lng()),i.show(),n.geocomplete("map").panTo(t),(new google.maps.Geocoder).geocode({latLng:t},function(e,t){t===google.maps.GeocoderStatus.OK&&"object"==typeof e[0]&&n.val(e[0].formatted_address)})}),n.on("focus",function(){var e=n.geocomplete("map");google.maps.event.trigger(e,"resize")}),i.on("click",function(e){e.preventDefault(),i.hide(),n.geocomplete("resetMarker").val(""),r.val(""),c.val("")}),f(window).on("load",function(){n.trigger("geocode")}))}};qodef.qodefAddressFields=s;var c={init:function(){var i,n,e;this.searchField=f(".qodef-search-field"),this.adminContent=f(".qodef-admin-content"),this.tabHolder=f(".tab-content"),this.rowHolder=f(".qodef-row-wrapper"),this.sectionHolder=f(".qodef-section-wrapper"),this.repeaterHolder=f(".qodef-repeater-wrapper"),this.fieldHolder=f(".qodef-field-holder"),this.searchField.length&&(i=this.searchField.next(".qodef-search-loading"),this.searchField.on("keyup paste",function(){var t=f(this);t.attr("autocomplete","off"),i.removeClass("qodef-hidden"),clearTimeout(e),e=setTimeout(function(){var e=t.val();n=new RegExp(t.val(),"gi"),i.addClass("qodef-hidden"),e.length<3?c.resetSearchView():(c.resetSearchView(),c.adminContent.addClass("qodef-apply-search"),c.fieldHolder.each(function(){var e=f(this);-1!==e.find(".qodef-field-desc").text().search(n)?(e.parents(".tab-content").addClass("qodef-search-show"),e.parents(".qodef-section-wrapper").addClass("qodef-search-show"),e.parents(".qodef-row-wrapper").addClass("qodef-search-show"),e.parents(".qodef-repeater-wrapper").addClass("qodef-search-show")):e.addClass("qodef-search-hide")}))},500)}))},resetSearchView:function(){this.adminContent.removeClass("qodef-apply-search"),this.tabHolder.removeClass("qodef-search-show"),this.rowHolder.removeClass("qodef-search-show"),this.sectionHolder.removeClass("qodef-search-show"),this.repeaterHolder.removeClass("qodef-search-show"),this.fieldHolder.removeClass("qodef-search-hide")},resetSearchField:function(){this.searchField.val("")}}}(jQuery),function(i){"use strict";i(document).ready(function(){n.initColorPicker()}),i(document).on("widget-added widget-updated",function(e,t){n.initColorPicker(t),n.initDependency(t)});var n={initColorPicker:function(e){var t=void 0!==e?e.find(".qodef-widget-field--color"):i("#widgets-right .qodef-widget-field--color");t.length&&n.initPickerField(t,t.find(".qodef-color-field"))},initPickerField:function(e,t){t.length&&e.find(".wp-picker-container").length<=0&&t.wpColorPicker({change:_.throttle(function(){i(this).trigger("change")},3e3)})},initDependency:function(e){var t=e.find(".widget-content .qodef-widget-field[data-option-name]");t.length&&qodef.qodefDependency.reinitWidget(t)}}}(jQuery);